<!DOCTYPE html>
<!-- saved from url=(0068)https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Solomon Chak">
<meta name="dcterms.date" content="2023-02-24">

<title>R Intro</title>
<style class="anchorjs"></style><style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="./R Intro_files/clipboard.min.js"></script>
<script src="./R Intro_files/quarto.js"></script>
<script src="./R Intro_files/popper.min.js"></script>
<script src="./R Intro_files/tippy.umd.min.js"></script>
<script src="./R Intro_files/anchor.min.js"></script>
<link href="./R Intro_files/tippy.css" rel="stylesheet">
<link href="./R Intro_files/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="./R Intro_files/bootstrap.min.js"></script>
<link href="./R Intro_files/bootstrap-icons.css" rel="stylesheet">
<link href="./R Intro_files/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#using-r-in-rstudio-locally-or-online" id="toc-using-r-in-rstudio-locally-or-online" class="nav-link active" data-scroll-target="#using-r-in-rstudio-locally-or-online">Using R in RStudio locally or online</a>
  <ul class="">
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#installation-or-sign-up" id="toc-installation-or-sign-up" class="nav-link" data-scroll-target="#installation-or-sign-up">Installation or sign up</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#project-setup-and-file-transfer" id="toc-project-setup-and-file-transfer" class="nav-link" data-scroll-target="#project-setup-and-file-transfer">Project setup and file transfer</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#the-rstudio-interface" id="toc-the-rstudio-interface" class="nav-link" data-scroll-target="#the-rstudio-interface">The RStudio Interface</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#using-packages" id="toc-using-packages" class="nav-link" data-scroll-target="#using-packages">Using packages</a></li>
  </ul></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#importing-data-into-r" id="toc-importing-data-into-r" class="nav-link" data-scroll-target="#importing-data-into-r">Importing data into R</a>
  <ul class="collapse">
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#preparing-a-.csv-file-from-excel" id="toc-preparing-a-.csv-file-from-excel" class="nav-link" data-scroll-target="#preparing-a-.csv-file-from-excel">Preparing a .csv file from Excel</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#loading-a-.csv-file-into-r" id="toc-loading-a-.csv-file-into-r" class="nav-link" data-scroll-target="#loading-a-.csv-file-into-r">Loading a .csv file into R</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#loading-an-excel-file-directly" id="toc-loading-an-excel-file-directly" class="nav-link" data-scroll-target="#loading-an-excel-file-directly">Loading an Excel file directly</a></li>
  </ul></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a>
  <ul class="collapse">
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#bar-graph" id="toc-bar-graph" class="nav-link" data-scroll-target="#bar-graph">Bar Graph</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#scatter-plot-with-a-linear-fit" id="toc-scatter-plot-with-a-linear-fit" class="nav-link" data-scroll-target="#scatter-plot-with-a-linear-fit">Scatter Plot with a Linear Fit</a></li>
  </ul></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive statistics</a>
  <ul class="collapse">
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#min-max-median-mean" id="toc-min-max-median-mean" class="nav-link" data-scroll-target="#min-max-median-mean">Min, Max, Median &amp; Mean</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#quantiles" id="toc-quantiles" class="nav-link" data-scroll-target="#quantiles">Quantiles</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#standard-deviation-and-standard-error" id="toc-standard-deviation-and-standard-error" class="nav-link" data-scroll-target="#standard-deviation-and-standard-error">Standard Deviation and Standard Error</a></li>
  </ul></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#inferential-statistics" id="toc-inferential-statistics" class="nav-link" data-scroll-target="#inferential-statistics">Inferential statistics</a>
  <ul class="collapse">
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression">Linear regression</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#t-test" id="toc-t-test" class="nav-link" data-scroll-target="#t-test">T-test</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#anova" id="toc-anova" class="nav-link" data-scroll-target="#anova">ANOVA</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#chi-square---goodness-of-fit-test" id="toc-chi-square---goodness-of-fit-test" class="nav-link" data-scroll-target="#chi-square---goodness-of-fit-test">Chi-square - Goodness of Fit test</a></li>
  <li><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#chi-square---contingency-test" id="toc-chi-square---contingency-test" class="nav-link" data-scroll-target="#chi-square---contingency-test">Chi-square - Contingency test</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Intro</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Solomon Chak </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This is a short introduction to R and statistics written to accompany introductory biology courses. This document will prepare you to perform statistic analysis and visualize results using R for most biology labs.</p>
<p>Why use R? See <a href="https://data-flair.training/blogs/why-learn-r/">here</a>.</p>
<section id="using-r-in-rstudio-locally-or-online" class="level2">
<h2 class="anchored" data-anchor-id="using-r-in-rstudio-locally-or-online">Using R in RStudio locally or online<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#using-r-in-rstudio-locally-or-online" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<section id="installation-or-sign-up" class="level3">
<h3 class="anchored" data-anchor-id="installation-or-sign-up">Installation or sign up<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#installation-or-sign-up" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>R is a command line program where you interact with it through text (command line) instead of a graphical user interface (e.g., Windows, Excel, etc.) There are two options for running R in this class. In both options, you will not interact directly with R, but through an integrated development environment called Rstudio on your computer or online (the cloud version of Rstudio is called Posit since 2022).</p>
<p>(1) You can download RStudio and install it on your computer. Follow the instructions <a href="https://posit.co/download/rstudio-desktop/">here</a> to download and install both R and RStudio.</p>
<p>(2) You can also use RStudio online. Sign up for an account <a href="https://posit.co/products/cloud/cloud/">here</a>. The “Cloud Free” option will be sufficient. Do not choose the PLUS or other options.</p>
</section>
<section id="project-setup-and-file-transfer" class="level3">
<h3 class="anchored" data-anchor-id="project-setup-and-file-transfer">Project setup and file transfer<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#project-setup-and-file-transfer" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<section id="local-option" class="level4">
<h4 class="anchored" data-anchor-id="local-option">Local option<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#local-option" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>If you choose the local option, you should set up a project and a folder that is associated with this project where all files will be stored.</p>
<p>For example, create a folder on your desktop that is called “R_is_fun”. Start RStudio, click File &gt; New Project… and select “Existing Directory” and browse to the folder “R_is_fun”.</p>
<p>Then click “Create Project”. Now you can access all files in the folder “R_is_fun” (without indicating the full pathname) and everything you saved in R will also appear in this folder.</p>
</section>
<section id="online-option" class="level4">
<h4 class="anchored" data-anchor-id="online-option">Online option<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#online-option" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>If you choose the cloud option, you will need to upload/download files to/from the cloud.</p>
<p>On posit.cloud, click “New Project” &gt; New RStudio Project on the upper right. Once the project is deployed, on the lower right panel, click the “upload” button and choose the file from your computer.</p>
<p>To download a file, check the box next to the file, click the “More” &gt; Export… and click “Download”.</p>
</section>
</section>
<section id="the-rstudio-interface" class="level3">
<h3 class="anchored" data-anchor-id="the-rstudio-interface">The RStudio Interface<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#the-rstudio-interface" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Let’s introduce what is being displayed in RStudio. Before we get started, click File &gt; New File &gt; R Script. This will result in a default four-panel interface <a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-RStudio_interface">Figure&nbsp;1</a>.</p>
<div id="fig-RStudio_interface" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="./R Intro_files/Rstudio_interface.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;1: The four-panel interface of RStudio.</figcaption><p></p>
</figure>
<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-RStudio_interface" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></div>
<ul>
<li><p>(A) The upper left is the R script panel. This is where you will write and save your R script or commands. The panel should be saved regularly, which serves as a record of all the commands that you have (or are planning) to run. For example, clicking File &gt; Save and giving it the name “R_is_fun” will save it as “R_is_fun.R” in your working directory. The scripts here are not being read by R until you click the “Run” button on the top right.</p></li>
<li><p>(B) The lower left is the R console, which is the innate command line interface of R. A command from the R script above will be displayed here when you click the “Run” button, which is when R “reads” your command. Any output or error from R will also be displayed here. You could type your command directly here, but it will not be saved in the R script.</p></li>
<li><p>(C) The upper right is the environment panel. Objects that are read or generated in R will be displayed here, along with any packages that you load and functions that you create.</p></li>
<li><p>(D) The lower right is the files panel. It displays the files in your working directory. It also displays figures in a “Plots” tab if your commands result in graphical outputs. The Help tab displays the manual for each package and command.</p></li>
</ul>
<p>For a more comprehensive introduction to RStudio, see <a href="https://education.rstudio.com/learn/beginner/">here</a>.</p>
</section>
<section id="using-packages" class="level3">
<h3 class="anchored" data-anchor-id="using-packages">Using packages<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#using-packages" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Many packages are available to expand the basic functions of R.</p>
<p>To use these packages, you will need to install them first. Then you can load the package as libraries.</p>
<p>We will install a few packages that will be used in this document. You may be asked to select a mirror to download the packages.</p>
<p>Then, we will load this packages such that functions from these packages can be used</p>
</section>
</section>
<section id="importing-data-into-r" class="level2">
<h2 class="anchored" data-anchor-id="importing-data-into-r">Importing data into R<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#importing-data-into-r" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<section id="preparing-a-.csv-file-from-excel" class="level3">
<h3 class="anchored" data-anchor-id="preparing-a-.csv-file-from-excel">Preparing a .csv file from Excel<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#preparing-a-.csv-file-from-excel" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Your data should be entered and stored in spreadsheet programs such as Microsoft Excel before being imported into R. While R can read Excel files such as .xls and .xlsx, data are typically saved into a simpler text format such as .csv (comma-separated values), where each row appears in a new line and each column is separated by a comma (,) (<a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-excel">Figure&nbsp;2</a>).</p>
<div id="fig-excel" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="./R Intro_files/excel_vs_csv.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Comparison of the same table in (A) Excel and (B) .csv format.</figcaption><p></p>
</figure>
<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-excel" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></div>
<p>A spreadsheet in Excel can be exported into .csv by clicking File &gt; Save As… and selecting “CSV” in the drop-down manual under “File Format”.</p>
<p>Place the .csv file into your project’s directory (e.g., R_is_fun) or upload it to your project in posit.cloud. Now, you should see the .csv file listed in the lower right panel of RStudio (<strong>?@fig-file_panel</strong>).</p>
<p><img src="./R Intro_files/filepanel.png" id="fig-file_panel" class="img-fluid" alt="The file panel after placing the file “name.csv” into the working directory or after uploading it to posit.cloud.">.</p>
</section>
<section id="loading-a-.csv-file-into-r" class="level3">
<h3 class="anchored" data-anchor-id="loading-a-.csv-file-into-r">Loading a .csv file into R<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#loading-a-.csv-file-into-r" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Note that while the name.csv file is in the file panel, it’s not being loaded into R yet. To do that, in the R script panel, type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb1-1" aria-hidden="true" tabindex="-1"></a>data_name <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"name.csv"</span>)</span>
<span id="cb1-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or just </span></span>
<span id="cb1-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># data_name = read.csv("name.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What the code does is load “name.csv” into R and save it as an object called “data_name”. Now the object “data_name” should appear in the environment panel (<a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-env_panel">Figure&nbsp;3</a>).</p>
<div id="fig-env_panel" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="./R Intro_files/env_panel.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;3: A object loaded into R will appear in the environmental panel.</figcaption><p></p>
</figure>
<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#fig-env_panel" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></div>
<p>In the environmental panel, you can click on the object to open it in a new tab in the R script panel. Note that doing it actually sends a script to the R console as: <code>View(data_name).</code></p>
<p>You can also view the object within the R console by calling it directly:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb2-1" aria-hidden="true" tabindex="-1"></a>data_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  First_name Height_ft Age Academic_standing
1     Denzel       5.8  24         Sophomore
2     Claire       5.0  20            Junior
3       Jack       7.2  29        First-year
4     Quisha       5.7  26         Sophomore
5     Carlos       4.9  24        First-year
6      Julio       5.3  28         Sophomore
7     Hiromi       6.0  26            Senior
8      Jiang       5.5  28            Junior
9       Isha       4.4  18            Senior</code></pre>
</div>
</div>
<p>You can see that the file has loaded correctly. The 9 rows and 4 columns are present, as well as the column titles.</p>
<p>The object is a <em>dataframe</em>, which is a class of R object that stores table. See <a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/">here</a> for other classes in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>You can get more information of a dataframe with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   9 obs. of  4 variables:
 $ First_name       : chr  "Denzel" "Claire" "Jack" "Quisha" ...
 $ Height_ft        : num  5.8 5 7.2 5.7 4.9 5.3 6 5.5 4.4
 $ Age              : int  24 20 29 26 24 28 26 28 18
 $ Academic_standing: chr  "Sophomore" "Junior" "First-year" "Sophomore" ...</code></pre>
</div>
</div>
<p>In some cases, you may need to add more arguments to <code>read.csv()</code>. Explore the documentation of this function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">"read.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also search for it in the Help tab in the file panel. Another useful tips is that after you type help(, you can hit the tab key and RStudio will show the possible arguments for. Note also that RStudio will auto-complete the closing bracket for you.</p>
</section>
<section id="loading-an-excel-file-directly" class="level3">
<h3 class="anchored" data-anchor-id="loading-an-excel-file-directly">Loading an Excel file directly<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#loading-an-excel-file-directly" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>You can also directly import an Excel file into R with the help of the <code>readxl</code> package.</p>
<p>If you saved your Excel file as <code>name.xlsx</code>, then the command below will read the first sheet of an Excel file by default.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">"name.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  First_name Height_ft   Age Academic_standing
  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;            
1 Denzel           5.8    24 Sophomore        
2 Claire           5      20 Junior           
3 Jack             7.2    29 First-year       
4 Quisha           5.7    26 Sophomore        
5 Carlos           4.9    24 First-year       
6 Julio            5.3    28 Sophomore        
7 Hiromi           6      26 Senior           
8 Jiang            5.5    28 Junior           
9 Isha             4.4    18 Senior           </code></pre>
</div>
</div>
<p>Note that the above code does not save or overwrite the object <code>data_name</code> because we did not do the <code>data_name = read_xlsx(path = "name.xlsx")</code>. It simply read and output the result into the R console.</p>
</section>
</section>
<section id="data-visualization" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization">Data Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#data-visualization" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>Before you analyze the data, you should take a graphical look at your data. Here’re two common ways.</p>
<section id="bar-graph" class="level3">
<h3 class="anchored" data-anchor-id="bar-graph">Bar Graph<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#bar-graph" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>A bar graph is used to visualize a continuous variable against a categorical variable.</p>
<p>While R can generate plots using the build-in functions, we will use the package <code>ggplot2</code> since it provides more ways to customize your plots.</p>
<p>Using <code>data_name</code> we can plot Age against Academic_standing. If you do not remember what are the names of your object, you can use <code>names()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(data_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "First_name"        "Height_ft"         "Age"              
[4] "Academic_standing"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Academic_standing, <span class="at">y =</span> Age)) <span class="sc">+</span> </span>
<span id="cb13-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The code can be simplified using the idea of positional arguments:</p>
<p><code>ggplot(data_name, aes(Academic_standing, Age)) + geom_col()</code></p>
<p>Now you may want to (1) arrange your x-axis in a specific way, (2) get rid of the underscore in the x-axis, and (3) use different colors for each bar. You can do this by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting Academic_standing as a factor with a specific order of levels.</span></span>
<span id="cb14-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that this code modified data_name. </span></span>
<span id="cb14-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># There may be some cases where you don't want this change to be permanent, </span></span>
<span id="cb14-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># so you can then create a different object. </span></span>
<span id="cb14-5"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># For example `data_name_sorted = data_name`</span></span>
<span id="cb14-6"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-7" aria-hidden="true" tabindex="-1"></a>data_name<span class="sc">$</span>Academic_standing <span class="ot">=</span> <span class="fu">factor</span>(data_name<span class="sc">$</span>Academic_standing, <span class="at">level =</span> <span class="fu">c</span>(<span class="st">"First-year"</span>, <span class="st">"Sophomore"</span>, <span class="st">"Junior"</span>, <span class="st">"Senior"</span>))</span>
<span id="cb14-8"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># The main ggplot command is the same, but we have added:</span></span>
<span id="cb14-11"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co"># labs(x = ..., y = ...) to specify  axis titles</span></span>
<span id="cb14-12"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># fill = Academic_standing within aes to assign fill according to Academic_standing using the default color palette. </span></span>
<span id="cb14-13"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that if you do color = , it will change the color of the boundary of the bar instead.</span></span>
<span id="cb14-14"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Academic_standing, <span class="at">y =</span> Age, <span class="at">fill =</span> Academic_standing)) <span class="sc">+</span> </span>
<span id="cb14-16"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb14-17"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Academic standing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note that in your R script, you can use <code>#</code> to add comments and notes. These will not be read by R.</p>
</section>
<section id="scatter-plot-with-a-linear-fit" class="level3">
<h3 class="anchored" data-anchor-id="scatter-plot-with-a-linear-fit">Scatter Plot with a Linear Fit<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#scatter-plot-with-a-linear-fit" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>A scatter plot is used to visualize a the relationship between two continuous variables.</p>
<p>Continuing to use <code>data_name</code>, we can first plot a scatter plot between <code>Height_ft</code> and <code>Age</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">y =</span> Height_ft)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Height (feet)"</span>) <span class="co"># another way to change axis label</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To add a linear fit line, you can use <code>geom_smooth</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">y =</span> Height_ft)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm) <span class="sc">+</span></span>
<span id="cb16-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Height (feet)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The figure above shows the linear fit line in blue and the standard error (SE) in grey. You can remove the SE and change the line to a grey, dashed line (e.g., to indicate a non-significant fit line). We will more probably evaluate the signifiance later under the section</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">y =</span> Height_ft)) <span class="sc">+</span></span>
<span id="cb18-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> F, <span class="at">color=</span><span class="st">"grey"</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb18-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Height (feet)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="descriptive-statistics" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-statistics">Descriptive statistics<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#descriptive-statistics" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>When you first get your data, it will be wise to look at some numeric summaries of your dataframe.</p>
<p><code>summary</code> will give a summary of each column, depending on whether the column is numeric or categorical.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  First_name          Height_ft          Age         Academic_standing
 Length:9           Min.   :4.400   Min.   :18.00   First-year:2      
 Class :character   1st Qu.:5.000   1st Qu.:24.00   Sophomore :3      
 Mode  :character   Median :5.500   Median :26.00   Junior    :2      
                    Mean   :5.533   Mean   :24.78   Senior    :2      
                    3rd Qu.:5.800   3rd Qu.:28.00                     
                    Max.   :7.200   Max.   :29.00                     </code></pre>
</div>
</div>
<p>You can get the summary or specific summary statistics of each column using <code>$</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_name<span class="sc">$</span>Height_ft)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  4.400   5.000   5.500   5.533   5.800   7.200 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_name<span class="sc">$</span>Academic_standing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>First-year  Sophomore     Junior     Senior 
         2          3          2          2 </code></pre>
</div>
</div>
<section id="min-max-median-mean" class="level3">
<h3 class="anchored" data-anchor-id="min-max-median-mean">Min, Max, Median &amp; Mean<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#min-max-median-mean" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>You can also these functions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 26</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24.77778</code></pre>
</div>
</div>
</section>
<section id="quantiles" class="level3">
<h3 class="anchored" data-anchor-id="quantiles">Quantiles<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#quantiles" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>For quantiles:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
  18   24   26   28   29 </code></pre>
</div>
</div>
<p>Specific quantile:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(data_name<span class="sc">$</span>Age, <span class="at">probs =</span> <span class="fl">0.95</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 95% 
28.6 </code></pre>
</div>
</div>
</section>
<section id="standard-deviation-and-standard-error" class="level3">
<h3 class="anchored" data-anchor-id="standard-deviation-and-standard-error">Standard Deviation and Standard Error<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#standard-deviation-and-standard-error" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Standard deviation and standard error of the mean using base R:</p>
<p>Standard deviation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data_name<span class="sc">$</span>Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.734226</code></pre>
</div>
</div>
<p>Standard error by calculating it from sd():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data_name<span class="sc">$</span>Age)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(data_name))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.867113</code></pre>
</div>
</div>
<p>Standard error using the <code>summarySE</code> function in <code>Rmisc</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarySE</span>(<span class="at">data =</span> data_name, <span class="at">measurevar =</span> <span class="st">"Age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   .id N      Age       sd       se      ci
1 &lt;NA&gt; 9 24.77778 3.734226 1.244742 2.87038</code></pre>
</div>
</div>
<p>To output just the se:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarySE</span>(<span class="at">data =</span> data_name, <span class="at">measurevar =</span> <span class="st">"Age"</span>)<span class="sc">$</span>se</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.244742</code></pre>
</div>
</div>
<p>To summarize within group (e.g., Academic_standing), we can also use the function in <code>Rmisc</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarySE</span>(<span class="at">data =</span> data_name, <span class="at">measurevar =</span> <span class="st">"Age"</span>, <span class="at">groupvars =</span> <span class="st">"Academic_standing"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Academic_standing N  Age       sd       se        ci
1        First-year 2 26.5 3.535534 2.500000 31.765512
2         Sophomore 3 26.0 2.000000 1.154701  4.968275
3            Junior 2 24.0 5.656854 4.000000 50.824819
4            Senior 2 22.0 5.656854 4.000000 50.824819</code></pre>
</div>
</div>
</section>
</section>
<section id="inferential-statistics" class="level2">
<h2 class="anchored" data-anchor-id="inferential-statistics">Inferential statistics<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#inferential-statistics" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>See this <a href="https://stats.oarc.ucla.edu/other/mult-pkg/whatstat/">link</a> for which statistical test to choose from based on the type of data. The link has example R codes as well! Below are a few commonly used ones.</p>
<section id="linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="linear-regression">Linear regression<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#linear-regression" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Linear regression tests the relationship between two continuous variables. The analysis can estimate the a regression line that best fit the data using the least squares method (see <a href="https://www.jmp.com/en_us/statistics-knowledge-portal/what-is-regression/the-method-of-least-squares.html">here</a>). It also estimates the slope and intercept of the linear regression line and allows testing whether they are significantly different from zero.</p>
<p>In R the <code>lm</code> function can fit a number linear models, including linear regression.</p>
<p>To estimate the linear model to predict Height_ft (the response or dependent variable) by Age (the predictor or independent variable):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb48-1" aria-hidden="true" tabindex="-1"></a>lm_HA <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Height_ft <span class="sc">~</span> Age, <span class="at">data =</span> data_name)</span>
<span id="cb48-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb48-2" aria-hidden="true" tabindex="-1"></a>lm_HA</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Height_ft ~ Age, data = data_name)

Coefficients:
(Intercept)          Age  
     1.6538       0.1566  </code></pre>
</div>
</div>
<p>The output of the linear model shows the coefficients intercept and slope (under “Age”). But we can get much more out of <code>lm_HA</code> using <code>summary()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lm_HA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Height_ft ~ Age, data = data_name)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.7379 -0.5115 -0.0247  0.2753  1.0056 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)  1.65378    1.38315   1.196   0.2708  
Age          0.15657    0.05527   2.833   0.0253 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.5837 on 7 degrees of freedom
Multiple R-squared:  0.5341,    Adjusted R-squared:  0.4676 
F-statistic: 8.026 on 1 and 7 DF,  p-value: 0.0253</code></pre>
</div>
</div>
<p>Under “Coefficients”, it shows a t-test of whether the intercept and slope (Age) is significantly different from zero.</p>
<p>In the last three lines, it shows:</p>
<ul>
<li><p>Residual standard error: lower means better fit</p></li>
<li><p>Degrees of freedom: the maximum number of logically independent values</p></li>
<li><p>Multiple R-squared: the percentage of the response variable variation that a the model explains</p></li>
<li><p>Adjusted R-squared: adjusted for the number of terms in the model</p></li>
<li><p>Statistics of a F-test that evaluates the fit of the model.</p></li>
</ul>
<p>Although the F-test is at the end, it should be examined first to determine whether the linear model fits the data. Only when the model is well fitted, should you further interpret the significance of the intercept and slope.</p>
<p>In this example, the linear regression is significant because the p-value of the F test is lower than 0.05 (p = 0.0253), so we can continue to examine the intercept and slope.</p>
<p>The slope is 0.35657 (under “Estimate” in “Coefficient”) and the t-test indicate that it is significantly different from zero (p = 0.0253). Note that this p-value is the same when there is only one predictor variable. In multiple regression, there will be separate t-tests for each predictor variable.</p>
<p>Therefore we can write this to summarize the result and provide the statistical support: There is a positive relationship between height and age (slope = 0.357, F = 8.026, d.f. = 1 and 7, p = 0.025).</p>
<section id="visualization" class="level4">
<h4 class="anchored" data-anchor-id="visualization">Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#visualization" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>Visualization for linear regression is shown above in <a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#scatter-plot-with-a-linear-fit">Scatter Plot with a Linear Fit</a>.</p>
</section>
</section>
<section id="t-test" class="level3">
<h3 class="anchored" data-anchor-id="t-test">T-test<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#t-test" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>A two sample T-test compares the means of two samples. The predictor (independent) variable is nominal and has two categories. The response (dependent) variable is continuous. In other words, a two sample t-test tests whether the two categories of the predictor variable affect the continuous response variable.</p>
<p>We will create a new variable called Age_group: A when Age &lt;= 25 and B when Age &gt; 25.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb52-1" aria-hidden="true" tabindex="-1"></a>data_name<span class="sc">$</span>Age_group <span class="ot">&lt;-</span> <span class="fu">with</span>(data_name, <span class="fu">ifelse</span>(Age <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"A"</span>, <span class="st">"B"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can <code>View(data_name)</code> to check that we now have a new column in <code>data_name</code>.</p>
<p>To test whether Height_ft is different between Age_group A and B, or whether Age_group affect Hr\eight_ft, we can use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(Height_ft<span class="sc">~</span>Age_group, <span class="at">data =</span> data_name, <span class="at">alternative =</span> <span class="st">"two.sided"</span>, <span class="at">var.equal =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  Height_ft by Age_group
t = -2.0638, df = 6.9999, p-value = 0.07792
alternative hypothesis: true difference in means between group A and group B is not equal to 0
95 percent confidence interval:
 -1.9633556  0.1333556
sample estimates:
mean in group A mean in group B 
          5.025           5.940 </code></pre>
</div>
</div>
<p><code>alternative</code> can also be “greater” or “less” if you have an a priori reason to test a directional difference between groups.</p>
<p>In this case, the t-test is not statistically significant since the p-value is 0.07792.</p>
<section id="visualization-1" class="level4">
<h4 class="anchored" data-anchor-id="visualization-1">Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#visualization-1" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>You can plot the continuous variable from two groups in a number of ways.</p>
<p>One way is to use a boxplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age_group, <span class="at">y =</span> Height_ft)) <span class="sc">+</span> </span>
<span id="cb55-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb55-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Height (feet)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>You can even overlap your datapoints on top of the boxplot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age_group, <span class="at">y =</span> Height_ft)) <span class="sc">+</span> </span>
<span id="cb56-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb56-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="co"># this allows overlapping points to be seen</span></span>
<span id="cb56-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Height (feet)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="anova" class="level3">
<h3 class="anchored" data-anchor-id="anova">ANOVA<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#anova" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>Analysis of variance (ANOVA) is used similar to the t-test, but when the predictor variable has three or more categories.</p>
<p>To test whether Academic_standing affects Age:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb57-1" aria-hidden="true" tabindex="-1"></a>anova_model <span class="ot">=</span> <span class="fu">aov</span>(<span class="at">formula =</span> Age <span class="sc">~</span> Academic_standing, <span class="at">data =</span> data_name)</span>
<span id="cb57-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anova_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  Df Sum Sq Mean Sq F value Pr(&gt;F)
Academic_standing  3  27.06   9.019   0.534  0.679
Residuals          5  84.50  16.900               </code></pre>
</div>
</div>
<section id="visualization-2" class="level4">
<h4 class="anchored" data-anchor-id="visualization-2">Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#visualization-2" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>Similar to the t-test, we can plot the data used for ANOVA:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Academic_standing, <span class="at">y =</span> Age)) <span class="sc">+</span> </span>
<span id="cb59-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb59-3"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span> <span class="co"># this allows overlapping points to be seen</span></span>
<span id="cb59-4"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Academic standing"</span>, <span class="at">y =</span> <span class="st">"Age"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Note that showing the data points gives a more complete representation of our data. If you see only boxplot, you could imagine having a lot of data. But in fact, there are only 2-3 data point for each predictor variable. Some of them are even laying quite far apart from each other.</p>
</section>
</section>
<section id="chi-square---goodness-of-fit-test" class="level3">
<h3 class="anchored" data-anchor-id="chi-square---goodness-of-fit-test">Chi-square - Goodness of Fit test<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#chi-square---goodness-of-fit-test" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>There are two types of Chi-Square tests, which are used when both the predictor and response variables are nominal.</p>
<p>The goodness of fit Chi-square test is used to test whether the observed result (i.e.&nbsp;collected during an experiment) is significantly different than the “expected” result.</p>
<p>For example, let’s first generate a count of <code>Age_group</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb60-1" aria-hidden="true" tabindex="-1"></a>obs_age_group <span class="ot">=</span> <span class="fu">table</span>(data_name[,<span class="st">"Age_group"</span>])</span>
<span id="cb60-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb60-2" aria-hidden="true" tabindex="-1"></a>obs_age_group</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
A B 
4 5 </code></pre>
</div>
</div>
<p>We can then test whether the observed distribution of <code>Age_group</code> is equally distributed among the two groups (i.e., 1:1) uisng <code>chisq.test()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="at">x =</span> obs_age_group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(x = obs_age_group): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Chi-squared test for given probabilities

data:  obs_age_group
X-squared = 0.11111, df = 1, p-value = 0.7389</code></pre>
</div>
</div>
<p>Again, the null hypothesis is that the groups are equally distributed. The p-value is &gt; 0.05, which means that we have failed to reject the null hypothesis. Therefore, our observed distribution of Age_group is not significnatly different from 1:1.</p>
<p>If there is a priori reason that the distribution should be, for example, 3:1, we can modify the code to test this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(<span class="at">x =</span> obs_age_group, <span class="at">p =</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">/</span><span class="dv">4</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(x = obs_age_group, p = c(3/4, 1/4)): Chi-squared
approximation may be incorrect</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Chi-squared test for given probabilities

data:  obs_age_group
X-squared = 4.4815, df = 1, p-value = 0.03426</code></pre>
</div>
</div>
<p>In this second test, the p-value is &lt; 0.05, so we can reject the null hypothesis. Hence the distribution is significantly different from 3:1.</p>
<section id="visualization-3" class="level4">
<h4 class="anchored" data-anchor-id="visualization-3">Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#visualization-3" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>You can plot the data for a goodness of fit Chi-square test by using the raw data in <code>data_name</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age_group)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb68-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="chi-square---contingency-test" class="level3">
<h3 class="anchored" data-anchor-id="chi-square---contingency-test">Chi-square - Contingency test<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#chi-square---contingency-test" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>The Contingency test (or the Test of Independence), tests if the difference between two groups (e.g., Age_group) is significantly different depending on (contingent on) another variable (e.g., Academic_standing). Or, put another way, you might want to determine if the frequency of outcomes for one set of observations matches those for another set of observations.</p>
<p>We will first reshape our data into a contingency table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb69-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">=</span>  <span class="fu">melt</span>(data_name, <span class="at">measure.vars =</span> <span class="st">"Height_ft"</span>, <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"Age_group"</span>, <span class="st">"Academic_standing"</span>))</span>
<span id="cb69-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb69-2" aria-hidden="true" tabindex="-1"></a>obs_table <span class="ot">=</span> <span class="fu">cast</span>(temp, Age_group<span class="sc">~</span>Academic_standing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Aggregation requires fun.aggregate: length used as default</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(temp)</span>
<span id="cb71-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb71-2" aria-hidden="true" tabindex="-1"></a>obs_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Age_group First-year Sophomore Junior Senior
1         A          1         1      1      1
2         B          1         2      1      1</code></pre>
</div>
</div>
<p>We can then test the null hypothesis that the two variables <code>Age_group</code> and <code>Academic_standing</code> are independent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(obs_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in chisq.test(obs_table): Chi-squared approximation may be incorrect</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  obs_table
X-squared = 0.225, df = 3, p-value = 0.9735</code></pre>
</div>
</div>
<p>The p-value is &gt; 0.05. So we have failed to reject the null hypothesis. Hence the two variable are independent. In other words the distribution of <code>Age_group</code> is not dependent or affected by <code>Academic_standing</code>.</p>
<section id="visualization-4" class="level4">
<h4 class="anchored" data-anchor-id="visualization-4">Visualization<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#visualization-4" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<p>You can plot the contingency table by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> data_name, <span class="fu">aes</span>(<span class="at">x =</span> Age_group)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_grid</span>(<span class="sc">~</span>Academic_standing) <span class="sc">+</span></span>
<span id="cb76-2"><a href="https://6946855713e34bedadf345ad9ea49a38.app.posit.cloud/p/965ae73b/#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./R Intro_files/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<div class="modal__dialog micromodal-slide" id="quarto-log-error-modal" aria-hidden="true">
  <div class="modal__overlay" tabindex="2" data-micromodal-close="">
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="quarto-log-error-modal-title">
      <header class="modal__header">
        <h2 class="modal__title" id="quarto-log-error-modal-title">
          <i class="bi bi-exclamation-circle"></i>Error
        </h2>
        <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>
      </header>
      <div class="modal__content" id="quarto-log-error-modal-content">
        <pre tabindex="1" id="quarto-log-error-display"></pre>
      </div>
      <footer class="modal__footer">
      </footer>
    </div>
  </div>
</div>
<style type="text/css">
#quarto-log-error-modal .modal__overlay {
  z-index: 5000;
}
#quarto-log-error-modal-content {
  border: 1px solid #dee2e6;
  overflow-y: auto;
}
#quarto-log-error-display {
  min-height: 100px;
  padding: 8px;
  margin-bottom: 0;
  font-family: monospace;
}
#quarto-log-error-display:focus {
  outline: none;
}
.modal__dialog {
  font-size: 16px;
}
.modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}
.modal__container {
  position: fixed;
  top: 80px;
  background-color: #fff;
  padding: 15px;
  padding-top: 10px;
  min-width: 500px;
  max-width: 90%;
  max-height: 90vh;
  border-radius: 4px;
  overflow-y: auto;
  box-sizing: border-box;
}
.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal__title {
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  border-bottom: none;
  padding-bottom: 10px;
  font-size: 20px;
  color: rgb(191,71,65);
  line-height: 1.25;
  box-sizing: border-box;
}
.modal__title .bi {
  margin-right: 7px;
}
.modal__close {
  background: transparent;
  border: 0;
  margin-bottom: 10px;
}
.modal__header .modal__close:before { content: "\2715"; }
.modal__content {
  margin-top: 0;
  margin-bottom: 0;
}
@keyframes mmfadeIn {
    from { opacity: 0; }
      to { opacity: 1; }
}
@keyframes mmfadeOut {
    from { opacity: 1; }
      to { opacity: 0; }
}
@keyframes mmslideIn {
  from { transform: translateY(15%); }
    to { transform: translateY(0); }
}
@keyframes mmslideOut {
    from { transform: translateY(0); }
    to { transform: translateY(-10%); }
}
.micromodal-slide {
  display: none;
}
.micromodal-slide.is-open {
  display: block;
}
.micromodal-slide[aria-hidden="false"] .modal__overlay {
  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="false"] .modal__container {
  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__overlay {
  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__container {
  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide .modal__container,
.micromodal-slide .modal__overlay {
  will-change: transform;
} 
</style>
<script type="text/javascript">
  window.backupDefine = window.define; window.define = undefined;
  /*  ansi_up.js
   *  author : Dru Nelson
   *  license : MIT
   *  http://github.com/drudru/ansi_up
   */
   (function (root, factory) {
      if (typeof define === 'function' && define.amd) {
          // AMD. Register as an anonymous module.
          define(['exports'], factory);
      } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
          // CommonJS
          factory(exports);
      } else {
          // Browser globals
          var exp = {};
          factory(exp);
          root.AnsiUp = exp.default;
      }
  }(this, function (exports) {
  "use strict";
  var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
      if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
      return cooked;
  };
  var PacketKind;
  (function (PacketKind) {
      PacketKind[PacketKind["EOS"] = 0] = "EOS";
      PacketKind[PacketKind["Text"] = 1] = "Text";
      PacketKind[PacketKind["Incomplete"] = 2] = "Incomplete";
      PacketKind[PacketKind["ESC"] = 3] = "ESC";
      PacketKind[PacketKind["Unknown"] = 4] = "Unknown";
      PacketKind[PacketKind["SGR"] = 5] = "SGR";
      PacketKind[PacketKind["OSCURL"] = 6] = "OSCURL";
  })(PacketKind || (PacketKind = {}));
  var AnsiUp = (function () {
      function AnsiUp() {
          this.VERSION = "5.1.0";
          this.setup_palettes();
          this._use_classes = false;
          this.bold = false;
          this.italic = false;
          this.underline = false;
          this.fg = this.bg = null;
          this._buffer = '';
          this._url_whitelist = { 'http': 1, 'https': 1 };
      }
      Object.defineProperty(AnsiUp.prototype, "use_classes", {
          get: function () {
              return this._use_classes;
          },
          set: function (arg) {
              this._use_classes = arg;
          },
          enumerable: false,
          configurable: true
      });
      Object.defineProperty(AnsiUp.prototype, "url_whitelist", {
          get: function () {
              return this._url_whitelist;
          },
          set: function (arg) {
              this._url_whitelist = arg;
          },
          enumerable: false,
          configurable: true
      });
      AnsiUp.prototype.setup_palettes = function () {
          var _this = this;
          this.ansi_colors =
              [
                  [
                      { rgb: [0, 0, 0], class_name: "ansi-black" },
                      { rgb: [187, 0, 0], class_name: "ansi-red" },
                      { rgb: [0, 187, 0], class_name: "ansi-green" },
                      { rgb: [187, 187, 0], class_name: "ansi-yellow" },
                      { rgb: [0, 0, 187], class_name: "ansi-blue" },
                      { rgb: [187, 0, 187], class_name: "ansi-magenta" },
                      { rgb: [0, 187, 187], class_name: "ansi-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-white" }
                  ],
                  [
                      { rgb: [85, 85, 85], class_name: "ansi-bright-black" },
                      { rgb: [255, 85, 85], class_name: "ansi-bright-red" },
                      { rgb: [0, 255, 0], class_name: "ansi-bright-green" },
                      { rgb: [255, 255, 85], class_name: "ansi-bright-yellow" },
                      { rgb: [85, 85, 255], class_name: "ansi-bright-blue" },
                      { rgb: [255, 85, 255], class_name: "ansi-bright-magenta" },
                      { rgb: [85, 255, 255], class_name: "ansi-bright-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-bright-white" }
                  ]
              ];
          this.palette_256 = [];
          this.ansi_colors.forEach(function (palette) {
              palette.forEach(function (rec) {
                  _this.palette_256.push(rec);
              });
          });
          var levels = [0, 95, 135, 175, 215, 255];
          for (var r = 0; r < 6; ++r) {
              for (var g = 0; g < 6; ++g) {
                  for (var b = 0; b < 6; ++b) {
                      var col = { rgb: [levels[r], levels[g], levels[b]], class_name: 'truecolor' };
                      this.palette_256.push(col);
                  }
              }
          }
          var grey_level = 8;
          for (var i = 0; i < 24; ++i, grey_level += 10) {
              var gry = { rgb: [grey_level, grey_level, grey_level], class_name: 'truecolor' };
              this.palette_256.push(gry);
          }
      };
      AnsiUp.prototype.escape_txt_for_html = function (txt) {
          return txt.replace(/[&<>"']/gm, function (str) {
              if (str === "&")
                  return "&amp;";
              if (str === "<")
                  return "&lt;";
              if (str === ">")
                  return "&gt;";
              if (str === "\"")
                  return "&quot;";
              if (str === "'")
                  return "&#x27;";
          });
      };
      AnsiUp.prototype.append_buffer = function (txt) {
          var str = this._buffer + txt;
          this._buffer = str;
      };
      AnsiUp.prototype.get_next_packet = function () {
          var pkt = {
              kind: PacketKind.EOS,
              text: '',
              url: ''
          };
          var len = this._buffer.length;
          if (len == 0)
              return pkt;
          var pos = this._buffer.indexOf("\x1B");
          if (pos == -1) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer;
              this._buffer = '';
              return pkt;
          }
          if (pos > 0) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer.slice(0, pos);
              this._buffer = this._buffer.slice(pos);
              return pkt;
          }
          if (pos == 0) {
              if (len == 1) {
                  pkt.kind = PacketKind.Incomplete;
                  return pkt;
              }
              var next_char = this._buffer.charAt(1);
              if ((next_char != '[') && (next_char != ']')) {
                  pkt.kind = PacketKind.ESC;
                  pkt.text = this._buffer.slice(0, 1);
                  this._buffer = this._buffer.slice(1);
                  return pkt;
              }
              if (next_char == '[') {
                  if (!this._csi_regex) {
                      this._csi_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \u001B[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \u001B[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\u001F:])              # anything illegal\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._csi_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if (match[4]) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if ((match[1] != '') || (match[3] != 'm'))
                      pkt.kind = PacketKind.Unknown;
                  else
                      pkt.kind = PacketKind.SGR;
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
              if (next_char == ']') {
                  if (len < 4) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if ((this._buffer.charAt(2) != '8')
                      || (this._buffer.charAt(3) != ';')) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if (!this._osc_st) {
                      this._osc_st = rgxG(__makeTemplateObject(["\n                        (?:                         # legal sequence\n                          (\u001B\\)                    # ESC                           |                           # alternate\n                          (\u0007)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\u0006]                 # anything illegal\n                          |                           # alternate\n                          [\b-\u001A]                 # anything illegal\n                          |                           # alternate\n                          [\u001C-\u001F]                 # anything illegal\n                        )\n                    "], ["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]));
                  }
                  this._osc_st.lastIndex = 0;
                  {
                      var match_1 = this._osc_st.exec(this._buffer);
                      if (match_1 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_1[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  {
                      var match_2 = this._osc_st.exec(this._buffer);
                      if (match_2 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_2[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  if (!this._osc_regex) {
                      this._osc_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                        \u001B]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        \u001B]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._osc_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  pkt.kind = PacketKind.OSCURL;
                  pkt.url = match[1];
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
          }
      };
      AnsiUp.prototype.ansi_to_html = function (txt) {
          this.append_buffer(txt);
          var blocks = [];
          while (true) {
              var packet = this.get_next_packet();
              if ((packet.kind == PacketKind.EOS)
                  || (packet.kind == PacketKind.Incomplete))
                  break;
              if ((packet.kind == PacketKind.ESC)
                  || (packet.kind == PacketKind.Unknown))
                  continue;
              if (packet.kind == PacketKind.Text)
                  blocks.push(this.transform_to_html(this.with_state(packet)));
              else if (packet.kind == PacketKind.SGR)
                  this.process_ansi(packet);
              else if (packet.kind == PacketKind.OSCURL)
                  blocks.push(this.process_hyperlink(packet));
          }
          return blocks.join("");
      };
      AnsiUp.prototype.with_state = function (pkt) {
          return { bold: this.bold, italic: this.italic, underline: this.underline, fg: this.fg, bg: this.bg, text: pkt.text };
      };
      AnsiUp.prototype.process_ansi = function (pkt) {
          var sgr_cmds = pkt.text.split(';');
          while (sgr_cmds.length > 0) {
              var sgr_cmd_str = sgr_cmds.shift();
              var num = parseInt(sgr_cmd_str, 10);
              if (isNaN(num) || num === 0) {
                  this.fg = this.bg = null;
                  this.bold = false;
                  this.italic = false;
                  this.underline = false;
              }
              else if (num === 1) {
                  this.bold = true;
              }
              else if (num === 3) {
                  this.italic = true;
              }
              else if (num === 4) {
                  this.underline = true;
              }
              else if (num === 22) {
                  this.bold = false;
              }
              else if (num === 23) {
                  this.italic = false;
              }
              else if (num === 24) {
                  this.underline = false;
              }
              else if (num === 39) {
                  this.fg = null;
              }
              else if (num === 49) {
                  this.bg = null;
              }
              else if ((num >= 30) && (num < 38)) {
                  this.fg = this.ansi_colors[0][(num - 30)];
              }
              else if ((num >= 40) && (num < 48)) {
                  this.bg = this.ansi_colors[0][(num - 40)];
              }
              else if ((num >= 90) && (num < 98)) {
                  this.fg = this.ansi_colors[1][(num - 90)];
              }
              else if ((num >= 100) && (num < 108)) {
                  this.bg = this.ansi_colors[1][(num - 100)];
              }
              else if (num === 38 || num === 48) {
                  if (sgr_cmds.length > 0) {
                      var is_foreground = (num === 38);
                      var mode_cmd = sgr_cmds.shift();
                      if (mode_cmd === '5' && sgr_cmds.length > 0) {
                          var palette_index = parseInt(sgr_cmds.shift(), 10);
                          if (palette_index >= 0 && palette_index <= 255) {
                              if (is_foreground)
                                  this.fg = this.palette_256[palette_index];
                              else
                                  this.bg = this.palette_256[palette_index];
                          }
                      }
                      if (mode_cmd === '2' && sgr_cmds.length > 2) {
                          var r = parseInt(sgr_cmds.shift(), 10);
                          var g = parseInt(sgr_cmds.shift(), 10);
                          var b = parseInt(sgr_cmds.shift(), 10);
                          if ((r >= 0 && r <= 255) && (g >= 0 && g <= 255) && (b >= 0 && b <= 255)) {
                              var c = { rgb: [r, g, b], class_name: 'truecolor' };
                              if (is_foreground)
                                  this.fg = c;
                              else
                                  this.bg = c;
                          }
                      }
                  }
              }
          }
      };
      AnsiUp.prototype.transform_to_html = function (fragment) {
          var txt = fragment.text;
          if (txt.length === 0)
              return txt;
          txt = this.escape_txt_for_html(txt);
          if (!fragment.bold && !fragment.italic && !fragment.underline && fragment.fg === null && fragment.bg === null)
              return txt;
          var styles = [];
          var classes = [];
          var fg = fragment.fg;
          var bg = fragment.bg;
          if (fragment.bold)
              styles.push('font-weight:bold');
          if (fragment.italic)
              styles.push('font-style:italic');
          if (fragment.underline)
              styles.push('text-decoration:underline');
          if (!this._use_classes) {
              if (fg)
                  styles.push("color:rgb(" + fg.rgb.join(',') + ")");
              if (bg)
                  styles.push("background-color:rgb(" + bg.rgb + ")");
          }
          else {
              if (fg) {
                  if (fg.class_name !== 'truecolor') {
                      classes.push(fg.class_name + "-fg");
                  }
                  else {
                      styles.push("color:rgb(" + fg.rgb.join(',') + ")");
                  }
              }
              if (bg) {
                  if (bg.class_name !== 'truecolor') {
                      classes.push(bg.class_name + "-bg");
                  }
                  else {
                      styles.push("background-color:rgb(" + bg.rgb.join(',') + ")");
                  }
              }
          }
          var class_string = '';
          var style_string = '';
          if (classes.length)
              class_string = " class=\"" + classes.join(' ') + "\"";
          if (styles.length)
              style_string = " style=\"" + styles.join(';') + "\"";
          return "<span" + style_string + class_string + ">" + txt + "</span>";
      };
      ;
      AnsiUp.prototype.process_hyperlink = function (pkt) {
          var parts = pkt.url.split(':');
          if (parts.length < 1)
              return '';
          if (!this._url_whitelist[parts[0]])
              return '';
          var result = "<a href=\"" + this.escape_txt_for_html(pkt.url) + "\">" + this.escape_txt_for_html(pkt.text) + "</a>";
          return result;
      };
      return AnsiUp;
  }());
  function rgx(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2);
  }
  function rgxG(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2, 'g');
  }
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.default = AnsiUp;
  }));
  // micromodal: https://github.com/Ghosh/micromodal
  !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).MicroModal=t()}(this,(function(){"use strict";function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=e.closeTrigger,h=void 0===f?"data-micromodal-close":f,v=e.openClass,g=void 0===v?"is-open":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(o),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=t(document.querySelectorAll("[".concat(o.openTrigger,"]"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});return"undefined"!=typeof window&&(window.MicroModal=l),l}));  
  window.define = window.backupDefine; window.backupDefine = undefined;
  </script>
<script type="text/javascript">
  (function () {
    // forward keydown events so shortcuts can work in vscode, see:
    // https://github.com/microsoft/vscode/issues/65452#issuecomment-586485815
    if (window.parent.postMessage) {
      window.document.addEventListener('keydown', e => {
        const event = {
          type: "keydown",
          data: {
            altKey: e.altKey,
            code: e.code,
            ctrlKey: e.ctrlKey,
            isComposing: e.isComposing,
            key: e.key,
            location: e.location,
            metaKey: e.metaKey,
            repeat: e.repeat,
            shiftKey: e.shiftKey
          }
        };
        window.parent.postMessage(event, '*');
      });
    }
    // listen for execCommand messages
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-exec-command") {
        window.document.execCommand(event.data.data);
      } 
    }, true);
    const logEntries = new Array(1000);
    logEntries.offset = 0;
    function recordLogEntry(entry) {
      logEntries[logEntries.offset++] = entry;
      logEntries.offset %= logEntries.length;
    }
    function getLogEntry(i) { // backwards, 0 is most recent
        return logEntries[(logEntries.offset - 1 - i + logEntries.length) % logEntries.length];
    }
    const protocol = window.location.protocol === "https:" ? "wss:" : "ws:";
    let path = window.location.pathname;
    if (!/\/$/.test(path)) path += "/";
    const devServerSocket = new WebSocket(protocol + "//" + window.location.host + path);
    let reloadPage = true;
    addEventListener("beforeunload", () => {
      // don't reload page in case of navigation events
      reloadPage = false;
    })
    devServerSocket.onopen = () => {
      console.log('Socket connection open. Listening for events.');
      // if the socket closes for any reason (e.g. this occurs in electron apps
      // when the computer suspends) then reload to reestablish the connection 
      devServerSocket.onclose = () => {
        if (reloadPage) {
          console.log('Socket connection closed. Reloading.');
          window.location.reload(true);
        }
      }
    };
    // append for errors that occur within the error window
    let lastError = 0;
    const kErrorWindow = 2500;
    function showError(msg) {
      const ansiUp = new AnsiUp
      const html = ansiUp.ansi_to_html(msg.trim());
      const display = document.getElementById("quarto-log-error-display");
      if (display.innerHTML && ((Date.now() - lastError) < kErrorWindow)) {
        display.innerHTML = display.innerHTML + "<br/>" +  html;
      } else {
        display.innerHTML = html
      }
      lastError = Date.now()
      MicroModal.show('quarto-log-error-modal', {
        awaitCloseAnimation: true,
        onClose: () => { display.innerHTML = ""; }
      });
      // post message to parent indicating we had an error
      if (window.parent.postMessage) {
        window.parent.postMessage({
          type: "error",
          msg: msg,
        }, "*");
      }
    }
    // see if there is already an error to show
    const renderError = document.getElementById("quarto-render-error");
    if (renderError) {
      showError(renderError.innerHTML.trim());
    }
    const normalizeTarget = (target) => {
      return target.replace(/\/index\.html/, "/")
    };
    devServerSocket.onmessage = (msg) => {
      if (msg.data.startsWith('reload')) {
        let target = normalizeTarget(msg.data.replace(/^reload/, ""));
        // prepend proxy path to target if we have one
        if (target) {
          const pathPrefix = 
            window.location.pathname.match(/^.*?\/p\/\w+\//) ||
            window.location.pathname.match(/^.*?\/user\/[\w\d]+\/proxy\/\d+\//);
          if (pathPrefix) {
            target = pathPrefix + target.slice(1);
          }
        }
        if (target && (target !== normalizeTarget(window.location.pathname))) {
          window.location.replace(target);
        } else {
          window.location.reload(true);
        }
      } else if (msg.data.startsWith('log:')) {
        const ansiUp = new AnsiUp
        const log = JSON.parse(msg.data.substr(4));
        recordLogEntry(log);
        if (log.levelName === "ERROR") {
          showError(log.msgFormatted)
        } else {
          // see if there is a knitr error to report
          const kExecutionHalted = "Execution halted";
          if (log.msg.indexOf(kExecutionHalted) !== -1) {
            // scan backwards for beginning of error
            const errorEntries = [getLogEntry(0).msgFormatted];
            for (let i=1; i<logEntries.length; i++) {
              const logEntry = getLogEntry(i);
              if (logEntry) {
                errorEntries.unshift(logEntry.msgFormatted);
                if (logEntry.msg.indexOf("Quitting from lines") !== -1) {
                  showError(errorEntries.join(""));
                  break;
                } else if (logEntry.msg.indexOf(kExecutionHalted) !== -1) {
                  break;
                }
              } else {
                break;
              }
            }
          }
        }
      }
    };
  })();
</script>

<script type="text/javascript">
  if (window.parent.postMessage) {
    // wait for message providing confirmation we are in a devhost
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-init") {
        window.quartoDevhost = {
          openInputFile: function (line, column, highlight) {
            window.parent.postMessage({
              type: "openfile",
              file: "/cloud/project/R_intro.qmd",
              line: line,
              column: column,
              highlight: highlight
            }, event.origin);
          }
        };
      } else if (event.data.type === "goback") {
        window.history.back()
      } else if (event.data.type === "goforward") {
        window.history.forward()
      }
    }, true);
    // notify host of navigation (e.g. for 'pop out' command)
    window.parent.postMessage({
      type: "navigate",
      href: window.location.href,
      file: "/cloud/project/R_intro.qmd"
    }, "*");
  }
</script>
</body></html>